<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>상품 상세</title>
  <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<div th:replace="fragments :: topbar"></div>
<main class="container">
  <section class="panel">
    <h2 th:text="${product.name}">상품명</h2>
    <p class="meta" th:text="'단위: ' + ${product.unit_label} + ' | 재고: ' + ${product.stock_qty}"></p>
    <p th:text="${product.description}">설명</p>
    <p class="price" th:text="${#numbers.formatDecimal(product.effective_price, 0, 'COMMA', 0, 'POINT')} + '원'"></p>
    <p class="meta" th:if="${product.is_weight_item}">중량 상품은 예상금액 기준 주문 후 실중량으로 최종 정산됩니다.</p>

    <form method="post" action="/cart/items" class="inline" style="margin-top:12px;">
      <input type="hidden" name="productId" th:value="${product.id}">
      <label>
        수량
        <input name="qty" type="number" min="1" max="99" value="1" style="width:84px;">
      </label>
      <button type="submit">장바구니 담기</button>
    </form>
  </section>
</main>
</body>
</html>

<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>목감 로컬마켓</title>
  <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<div th:replace="fragments :: topbar"></div>
<main class="container grid" style="gap:16px;">
  <section class="hero">
    <h1>동네 장보기, 오늘 저녁 전에 도착</h1>
    <p>09:00~21:00 운영 | 당일마감 19:00 | 자체배달</p>
    <a class="btn" href="/products" style="display:inline-block;margin-top:14px;">상품 보러가기</a>
  </section>

  <section class="panel">
    <h3>카테고리</h3>
    <div class="nav-links" style="flex-wrap:wrap;">
      <a th:each="c : ${categories}" th:href="@{/products(categoryId=${c.id})}" th:text="${c.name}"></a>
    </div>
  </section>

  <section class="panel">
    <h3>이번 주 추천</h3>
    <div class="grid product-grid">
      <article class="card" th:each="p : ${featuredProducts}">
        <h4 th:text="${p.name}">상품명</h4>
        <p class="meta" th:text="${p.unit_label}">단위</p>
        <p class="price" th:text="${#numbers.formatDecimal(p.effective_price, 0, 'COMMA', 0, 'POINT')} + '원'"></p>
        <a class="btn subtle" th:href="@{/products/{id}(id=${p.id})}">상세보기</a>
      </article>
    </div>
  </section>

  <section class="columns">
    <article class="panel">
      <h3>행사</h3>
      <div class="grid">
        <div class="card" th:each="promo : ${promotions}">
          <span class="badge" th:text="${promo.promo_type}">WEEKLY</span>
          <h4 style="margin-top:8px;" th:text="${promo.title}">행사명</h4>
        </div>
      </div>
    </article>

    <article class="panel">
      <h3>공지</h3>
      <ul>
        <li th:each="notice : ${notices}" th:text="${notice.title}">공지</li>
      </ul>
    </article>
  </section>
</main>
</body>
</html>
